<section class="mb-8">

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">

        <a [routerLink]="['/client/vehicles/link']" class="bg-white rounded-lg shadow-sm border border-dashed border-blue-400 p-6 
         flex flex-col items-center justify-center cursor-pointer
         hover:bg-blue-50 transition">

            <div class="w-12 h-12 bg-blue-500 rounded-md flex items-center justify-center mb-3">
                <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                </svg>
            </div>

            <span class="text-blue-700 font-semibold text-lg">
                Agregar Vehículo
            </span>
        </a>

        <!-- Lista de vehículos -->
        @for (item of vehicles; track item.id) {

        <div class="bg-white rounded-lg shadow-sm border border-slate-200 p-6 animate-fade-in">

            <div class="flex items-center">
                <div class="ml-4">
                    <div class="text-lg font-semibold text-slate-900">
                        {{ item.vehicle.plate }}
                    </div>

                    <div class="text-slate-500 text-sm">
                        Color: {{ item.vehicle.color }}
                    </div>

                    <div class="text-slate-500 text-sm">
                        Tipo: {{ item.vehicle.type }}
                    </div>
                </div>
            </div>

            <div class="mt-4 flex space-x-3">
                <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"
                    (click)="viewSubscription(item.id)">
                    Suscripción
                </button>

                <button class="px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-800 transition"
                    (click)="viewBill(item.id)">
                    Facturas
                </button>
            </div>

        </div>
        }

    </div>

</section>


<!-- Modal -->
@if (showModal) {
<section class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">

  <section class="bg-white rounded-xl p-6 w-full max-w-md shadow-lg">

    <h2 class="text-xl font-bold mb-4 text-slate-800">
      Información de la suscripción
    </h2>

    <section class="space-y-4">

      <section>
        <span class="font-semibold">Válido hasta:</span>
        <p>{{ subscription?.validUntil || 'Pendiente' }}</p>
      </section>

      <section>
        <span class="font-semibold">Horas actuales:</span>
        <p>{{ subscription.currentHours ?? 'Pendiente' }}</p>
      </section>

      <section>
        <span class="font-semibold">Horas gratis por mes:</span>
        <p>{{ subscription.freeHoursPerMonth ?? 'Pendiente' }}</p>
      </section>

      <section>
        <span class="font-semibold">Descuento base:</span>
        <p>{{ subscription.baseDiscount ?? 'Pendiente' }}</p>
      </section>

      <section>
        <span class="font-semibold">Descuento anual:</span>
        <p>{{ subscription.yearDiscount ?? 'Pendiente' }}</p>
      </section>

      <section>
        <span class="font-semibold">Notas:</span>
        <p>{{ subscription.notes || 'Sin notas' }}</p>
      </section>

    </section>

    <section class="mt-6 text-right">
      <button
        class="px-4 py-2 bg-blue-600 text-white rounded-md"
        (click)="showModal = false"
      >
        Cerrar
      </button>
    </section>

  </section>

</section>
}
